{"version":3,"file":"dom-to-image-more.min.js","sources":["../src/dom-to-image-more.js"],"names":["global","util","let","uid_index","escape","string","replace","isDataUrl","url","search","canvasToBlob","canvas","toBlob","Promise","resolve","binaryString","atob","toDataURL","split","length","binaryArray","Uint8Array","i","charCodeAt","Blob","type","resolveUrl","baseUrl","doc","document","implementation","createHTMLDocument","base","createElement","a","head","appendChild","body","href","getAndEncode","cacheEntry","domtoimage","impl","urlCache","find","el","promise","push","options","cacheBust","test","Date","getTime","httpTimeout","request","XMLHttpRequest","onreadystatechange","readyState","status","placeholder","fail","encoder","FileReader","onloadend","result","readAsDataURL","response","ontimeout","responseType","timeout","useCredentials","withCredentials","open","send","message","console","error","imagePlaceholder","uid","Math","random","pow","toString","slice","delay","ms","arg","setTimeout","asArray","arrayLike","array","escapeXhtml","makeImage","uri","reject","image","Image","crossOrigin","onload","onerror","src","width","node","leftBorder","px","rightBorder","scrollWidth","height","topBorder","bottomBorder","scrollHeight","getWindow","isElement","value","Element","isHTMLElement","HTMLElement","isHTMLCanvasElement","HTMLCanvasElement","isHTMLInputElement","HTMLInputElement","isHTMLImageElement","HTMLImageElement","isHTMLTextAreaElement","HTMLTextAreaElement","isSVGElement","SVGElement","isSVGRectElement","SVGRectElement","ownerDocument","undefined","defaultView","window","styleProperty","getComputedStyle","getPropertyValue","parseFloat","inliner","URL_REGEX","inlineAll","get","shouldProcess","then","readUrls","urls","done","forEach","prefix","inline","match","exec","filter","urlValue","dataUrl","RegExp","fontFaces","resolveAll","readAll","webFonts","all","map","webFont","cssStrings","join","styleSheets","cssRules","sheet","Object","prototype","hasOwnProperty","call","getPrototypeOf","bind","e","log","rule","CSSRule","FONT_FACE_RULE","style","rules","newWebFont","webFontRule","parentStyleSheet","cssText","images","inlineCSSProperty","newImage","childNodes","child","properties","inliningTasks","propertyName","priority","getPropertyPriority","inlinedValue","setProperty","element","defaultOptions","toSvg","toPng","draw","toJpeg","quality","toPixelData","getContext","getImageData","data","toCanvas","exports","module","ownerWindow","copyOptions","clonee","cloneNode","root","parentComputedStyles","makeNodeCopy","clone","cloneChildren","processClone","original","children","cloneChildrenInOrder","parent","childs","computedStyles","childClone","cloneStyle","clonePseudoElements","copyUserInput","fixSvg","copyFont","source","target","font","fontFamily","fontFeatureSettings","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariationSettings","fontWeight","copyStyle","sourceElement","targetElement","sourceComputedStyles","copyUserComputedStyleFast","removeProperty","prop","cloneClassName","clonePseudoElement","content","currentClass","getAttribute","styleElement","setAttribute","formatPseudoElementStyle","selector","formatCssText","formatCssProperties","createTextNode","styleText","formatProperty","name","propertyValue","propertyPriority","innerHTML","attribute","embedFonts","inlineImages","bgcolor","backgroundColor","keys","property","onCloneResult","onclone","svg","XMLSerializer","serializeToString","xhtml","foreignObject","domNode","scale","ctx","fillStyle","fillRect","mozImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","drawImage","sandbox","removeChild","removeDefaultStylesTimeoutId","clearTimeout","tagNameDefaultStyles","styleNode","defaultStyle","tagName","charset","visibility","position","characterSet","contentDocument","title","defaultElement","defaultComputedStyle","contentWindow","textContent","targetStyle","needs_prefixing","sourceValue","indexOf","this"],"mappings":"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"}